(function(){"use strict";var e={8205:function(e,t,o){var a=o(5130),s=o(6768);function r(e,t,o,a,r,n){const i=(0,s.g2)("GeneralComponent");return(0,s.uX)(),(0,s.CE)("div",null,[(0,s.bF)(i)])}var n=o.p+"img/general-picture.f12236c6.webp";const i=e=>((0,s.Qi)("data-v-602f3c0b"),e=e(),(0,s.jt)(),e),l={class:"general"},c=i((()=>(0,s.Lk)("img",{class:"general__image",alt:"general",src:n},null,-1))),d={class:"general__text"},u=i((()=>(0,s.Lk)("h1",{class:"general__text__title"},"How to Participate",-1))),m={class:"general__text__list"},p=i((()=>(0,s.Lk)("li",{class:"general__text__list__item"},"Subscribe to our News",-1))),f={class:"general__text__list__item"},_=i((()=>(0,s.Lk)("li",{class:"general__text__list__item"},"Check your email inbox ",-1))),h=i((()=>(0,s.Lk)("li",{class:"general__text__list__item"},"Wait till September 22",-1)));function b(e,t,o,a,r,n){const i=(0,s.g2)("GeneralModal");return(0,s.uX)(),(0,s.CE)("div",l,[c,(0,s.Lk)("div",d,[u,(0,s.Lk)("ol",m,[p,(0,s.Lk)("li",f,[(0,s.Lk)("button",{class:"general__text__list__item__button",onClick:t[0]||(t[0]=(...e)=>n.showModal&&n.showModal(...e))},"Sign Up")]),_,h])]),(0,s.bF)(i,{visible:r.modalVisible,"onUpdate:visible":t[1]||(t[1]=e=>r.modalVisible=e)},null,8,["visible"])])}const v=e=>((0,s.Qi)("data-v-30402e57"),e=e(),(0,s.jt)(),e),g={class:"modal"},w={class:"modal__container"},k=v((()=>(0,s.Lk)("h2",{class:"modal__container__title"},"To register, enter the mail to which our news is sent and set your password",-1))),y=["disabled"];function S(e,t,o,a,r,n){const i=(0,s.g2)("a-input"),l=(0,s.g2)("a-form-item"),c=(0,s.g2)("a-form"),d=(0,s.g2)("a-modal"),u=(0,s.g2)("SuccessModal");return(0,s.uX)(),(0,s.CE)("div",g,[(0,s.bF)(d,{width:"1270px",footer:null,open:r.modalVisible,"onUpdate:open":t[2]||(t[2]=e=>r.modalVisible=e),onCancel:n.closeModal},{default:(0,s.k6)((()=>[(0,s.Lk)("div",w,[k,(0,s.bF)(c,{class:"modal__container__form",ref:"form",onFinish:n.handleSubmit,model:r.formData},{default:(0,s.k6)((()=>[(0,s.bF)(l,{name:"email",rules:[{required:!0,message:"Please input your email!"},{type:"email",message:"The input is not a valid email!"}]},{default:(0,s.k6)((()=>[(0,s.bF)(i,{class:"modal__container__form__input",placeholder:"Example@email.com",value:r.formData.email,"onUpdate:value":t[0]||(t[0]=e=>r.formData.email=e)},null,8,["value"])])),_:1}),(0,s.bF)(l,{name:"password",rules:[{required:!0,message:"Please input your password!"},{min:8,message:"Password must be at least 8 characters!"}]},{default:(0,s.k6)((()=>[(0,s.bF)(i,{class:"modal__container__form__input",placeholder:"Password",type:"password",value:r.formData.password,"onUpdate:value":t[1]||(t[1]=e=>r.formData.password=e)},null,8,["value"])])),_:1}),(0,s.bF)(l,null,{default:(0,s.k6)((()=>[(0,s.Lk)("button",{class:"modal__container__form__submit",type:"primary","html-type":"submit",disabled:!n.formIsValid},"Submit",8,y)])),_:1})])),_:1},8,["onFinish","model"])])])),_:1},8,["open","onCancel"]),(0,s.bF)(u,{visible:r.modalSuccessVisible,"onUpdate:visible":t[3]||(t[3]=e=>r.modalSuccessVisible=e)},null,8,["visible"])])}o(4979);var V=o(1073),x=o(4863),A=o(4346),M=o(771),T=o(7844),C=o(4373);const D=e=>((0,s.Qi)("data-v-4e50a012"),e=e(),(0,s.jt)(),e),F={class:"success"},L=D((()=>(0,s.Lk)("h2",{class:"success__title"},"Thank You",-1))),O=D((()=>(0,s.Lk)("div",{class:"success__descr"},"To complete registration, please check your e-mail",-1)));function j(e,t,o,a,r,n){const i=(0,s.g2)("a-modal");return(0,s.uX)(),(0,s.CE)("div",F,[(0,s.bF)(i,{width:"1270px",footer:null,open:r.modalSuccessVisible,"onUpdate:open":t[0]||(t[0]=e=>r.modalSuccessVisible=e)},{default:(0,s.k6)((()=>[L,O])),_:1},8,["open"])])}var P={name:"SuccessModal",components:{"a-modal":V.A},props:{visible:Boolean},data(){return{modalSuccessVisible:!1,form:null,formData:{email:"",password:""}}},methods:{closeModal(){this.modalSuccessVisible=!1,this.$emit("update:visible",this.modalSuccessVisible)}}},U=o(1241);const E=(0,U.A)(P,[["render",j],["__scopeId","data-v-4e50a012"]]);var I=E,$={name:"GeneralModal",components:{SuccessModal:I,"a-modal":V.A,"a-form":x.Ay,"a-form-item":A.A,"a-input":M.Ay},props:{visible:Boolean},data(){return{modalVisible:!1,modalSuccessVisible:!1,formData:{email:"",password:""}}},computed:{formIsValid(){return this.formData.email&&this.formData.password.length>=8}},mounted(){const e=localStorage.getItem("authToken");e&&this.redirectToAuthorizedZone(e)},watch:{visible(e){e&&(this.modalVisible=!0)}},methods:{closeModal(){this.modalVisible=!1,this.$emit("update:visible",this.modalVisible)},handleSubmit(){this.$refs.form.validate().then((()=>{const e="https://api.dating.com/identity",t=btoa(`${this.formData.email}:${this.formData.password}`);C.A.get(e,{headers:{Authorization:`Basic ${t}`}}).then((e=>{const t=e.headers["x-token"];localStorage.setItem("authToken",t),this.redirectToAuthorizedZone(t)})).catch((()=>{this.registerUser()}))})).catch((()=>{T.Ay.error("Please fill in the form correctly.")}))},registerUser(){const e="https://api.dating.com/identity";C.A.put(e,this.formData,{headers:{"Content-Type":"application/json"}}).then((e=>{const t=e.headers["x-token"];localStorage.setItem("authToken",t),this.modalSuccessVisible=!0,this.formData.email="",this.formData.password="",this.closeModal(),this.redirectToAuthorizedZone(t)})).catch((e=>{e.response?(console.error("Response error:",e.response.data),console.error("Response status:",e.response.status),console.error("Response headers:",e.response.headers)):e.request?console.error("Request error:",e.request):console.error("Error message:",e.message),T.Ay.error("Registration error. Please try again.")}))},redirectToAuthorizedZone(e){window.location.href=`https://www.dating.com/people/#token=${e}`}}};const G=(0,U.A)($,[["render",S],["__scopeId","data-v-30402e57"]]);var q=G,z={name:"GeneralComponent",components:{GeneralModal:q},data(){return{modalVisible:!1}},methods:{showModal(){this.modalVisible=!0}}};const R=(0,U.A)(z,[["render",b],["__scopeId","data-v-602f3c0b"]]);var X=R,Z={name:"App",components:{GeneralComponent:X}};const B=(0,U.A)(Z,[["render",r]]);var Q=B;(0,a.Ef)(Q).mount("#app")}},t={};function o(a){var s=t[a];if(void 0!==s)return s.exports;var r=t[a]={exports:{}};return e[a].call(r.exports,r,r.exports,o),r.exports}o.m=e,function(){var e=[];o.O=function(t,a,s,r){if(!a){var n=1/0;for(d=0;d<e.length;d++){a=e[d][0],s=e[d][1],r=e[d][2];for(var i=!0,l=0;l<a.length;l++)(!1&r||n>=r)&&Object.keys(o.O).every((function(e){return o.O[e](a[l])}))?a.splice(l--,1):(i=!1,r<n&&(n=r));if(i){e.splice(d--,1);var c=s();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[a,s,r]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.p="/"}(),function(){var e={524:0};o.O.j=function(t){return 0===e[t]};var t=function(t,a){var s,r,n=a[0],i=a[1],l=a[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(s in i)o.o(i,s)&&(o.m[s]=i[s]);if(l)var d=l(o)}for(t&&t(a);c<n.length;c++)r=n[c],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(d)},a=self["webpackChunksdg"]=self["webpackChunksdg"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=o.O(void 0,[504],(function(){return o(8205)}));a=o.O(a)})();
//# sourceMappingURL=app.459873ce.js.map